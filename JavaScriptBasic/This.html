<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>this的用法</title>
</head>
<body>
    <script>
        // this总是指向最后调用它的那个对象

        // var name = 'windowName';
        //
        // function a () {
        //     var name = 'Cherry';
        //     console.log(this.name); // windowName, 因为最后调用a()的是全局对象window
        // }
        //
        // a();

         // var name = 'windowName';
         // var a = {
         //     name: 'Cherry',
         //     fn: function () {
         //         console.log(this.name) // Cherry， 因为最后调用fn的是对象a
         //     }
         // }
         // a.fn()

        // var name = 'windowName';
        // var a = {
        //     name: 'Cherry',
        //     fn: function () {
        //         console.log(this.name) // Cherry， 因为虽然是window先调用a,但最后调用fn的是对象a
        //     }
        // }
        // window.a.fn()

        // special attention
        // var name = 'windowName'
        // var a = {
        //     name: null,
        //     fn: function () {
        //         console.log(this.name) // Cherry, 虽然a的fn方法赋值给了变量f，但是f没有调用。最后调用fn()的还是windows
        //     }
        // }
        // var f = a.fn
        // fn()

        var name = "windowsName";

        function fn() {
            var name = 'Cherry';
            innerFunction();
            function innerFunction() {
                console.log(this.name); // windowsName， fn是由window对象调用的，所以fn方法内this也指向window，this.name为windowNames
            }
        }

        fn()

    </script>
</body>
</html>
